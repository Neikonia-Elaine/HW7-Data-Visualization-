<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Retail Analytics Dashboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Online Retail Analytics Dashboard</h1>
    
    <div class="controls">
        <div class="control-group">
            <label for="yAxisSelect">Y-Axis Metric:</label>
            <select id="yAxisSelect">
                <option value="totalQty">Total Quantity</option>
                <option value="totalSales">Total Sales</option>
                <option value="Recency">Recency (days)</option>
                <option value="frequency">Frequency</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="countryFilter">Filter by Country:</label>
            <select id="countryFilter">
                <option value="ALL">All Countries</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="priceFilter">Filter by Price:</label>
            <select id="priceFilter">
                <option value="ALL">All Prices</option>
                <option value="Low Price (≤$2)">Low Price (≤$2)</option>
                <option value="Mid Price ($2-$10)">Mid Price ($2-$10)</option>
                <option value="High Price (>$10)">High Price (>$10)</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="densitySlider">Point Density:</label>
            <input type="range" id="densitySlider" min="1" max="10" value="3" step="1">
            <span id="densityValue">Every 3rd point</span>
        </div>
    </div>
    
    <div class="chart-panel">
        <div class="chart-container">
            <div class="chart-title" id="chartTitle">Product Analysis: Average Price vs Total Quantity</div>
            <div id="scatter-plot"></div>
            <div class="analytical-notes" id="analyticalNotes"></div>
        </div>
        <div class="selection-info" id="selectionInfo" style="display: none;">
            <p>Drag to select points on the scatter plot. Press Esc to clear selection.</p>
        </div>
    </div>

    <div class="chart-container barchart-panel">
        <div class="chart-title" id="barchartTitle">Predicted Top Products (Next Month)</div>
        <div class="chart-subtitle" style="margin-bottom:12px;color:#666;font-size:15px;line-height:1.5;">
            <b>Prediction Model:</b> Random Forest Regressor<br>
            <b>Features used:</b> Product ID, Country, Average Unit Price, and 3-month rolling average quantity.<br>
            Not quiet specific due to the data, just a try, could do better with more learning
        </div>
        <div id="bar-chart"></div>
        <div class="advice-table" id="adviceTable"></div>
    </div>

    <div class="chart-container trend-panel">
        <div class="chart-title">Monthly Product Sales Trend</div>
        <div class="chart-subtitle" style="margin-bottom:14px;color:#666;font-size:15px;">
            Visualizes the sales quantity of a product for each month, revealing seasonal trends.<br>
        </div>
        <div style="display:flex;align-items:center;margin-bottom:12px;gap:10px;">
            <label for="skuSelect" style="font-weight:bold;">Select Product:</label>
            <select id="skuSelect" style="min-width:340px;padding:7px 9px;font-size:15px;border-radius:4px;"></select>
            <button id="showAllBtn" style="background:#e1eafc;color:#144fa0;font-weight:bold;padding:7px 12px;border-radius:5px;border:1px solid #b4c8f7;cursor:pointer;">Show All (Stacked)</button>
        </div>
        <div id="trend-chart"></div>
    </div>
    <!-- <div class="chart-container pareto-panel">
        <div class="chart-title">SKU Pareto (Long-tail) Distribution</div>
        <div class="chart-subtitle" style="margin-bottom:14px;color:#666;font-size:15px;">
            Visualizes SKU total sales with cumulative % line. Bars are sorted by total quantity.<br>
            Data Source: <b>sku_pareto.csv</b>
        </div>
        <div id="pareto-chart"></div>
        <div class="pareto-legend" style="margin-top:14px;">
            <span style="color:#1f77b4;font-weight:bold;">Bar</span>: Quantity Sold &nbsp; | &nbsp;
            <span style="color:#ff7f0e;font-weight:bold;">Line</span>: Cumulative %
        </div>
    </div> -->


    
    <div class="tooltip" id="tooltip"></div>

    <script src="script.js"></script>
</body>
</html>